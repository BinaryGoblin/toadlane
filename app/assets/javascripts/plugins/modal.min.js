var armor={init:function(){this.loadStyle()},loadStyle:function(){var a=document.createElement("link"),c=document.getElementsByTagName("head")[0],b=this.getDomain("modal.");a.href=b+"/assets/css/modal.css";a.rel="stylesheet";a.type="text/css";c.appendChild(a)},getDomain:function(a){for(var c=document.getElementsByTagName("script"),b=0;b<c.length;b++)if(0<c[b].src.indexOf(a))return a=document.createElement("a"),a.href=c[b].src,a.protocol+"//"+a.hostname;return""},openModal:function(a,c,b){var d="ap-modal";
null==b?b="ap-modal":d=b;for(var e=0;$("#"+d).length;)e+=1,d=b+e;b=d;d=document.createElement("div");d.setAttribute("class","ap-modal has-iframe");d.setAttribute("id",b);e=document.createElement("div");e.setAttribute("class","ap-modal-content");var h=document.createElement("div");h.setAttribute("class","ap-modal-iframe");var f=document.createElement("div");f.setAttribute("class","ap-modal-close");f.setAttribute("title","Close");var g=document.createElement("iframe");"string"!==typeof a&&(a=a.href);
-1!=a.indexOf("?")?-1==a.indexOf("modal=true")&&(a+="&modal=true"):a+="?modal=true";g.setAttribute("src",a);g.setAttribute("allowtransparency",!0);g.setAttribute("id",b+"_frame");g.setAttribute("name",b+"_frame");f.innerHTML="&times;";f.onclick=function(){armor.closeModal(c,b);return!1};h.appendChild(g);e.appendChild(h);e.appendChild(f);d.appendChild(e);document.body.appendChild(d);setTimeout(function(){document.getElementById(b).style.opacity=1},1)},closeModal:function(a,c){null==c&&(c="ap-modal");
var b=document.getElementById(c);b.style.opacity=0;setTimeout(function(){document.body.removeChild(b)},500);a&&armor.reload()},openLocalModal:function(a,c,b){document.getElementById(a);setTimeout(function(){document.getElementById(a).style.display="block";document.getElementById(b).style.opacity=1},1)},closeLocalModal:function(a,c){null==c&&(c="ap-modal");var b=document.getElementById(c);b.style.display="none";setTimeout(function(){document.body.removeChild(b)},500);a&&armor.reload()},reload:function(){var a=
window.location.href,c=a.split("?");if(c[1])for(c=c[1].split("&"),i=0;i<c.length;i++)"action"==c[i].split("=")[0]&&(a=a.replace("action="+c[i].split("=")[1],""));window.location.href=a}};armor.init();
